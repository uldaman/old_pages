Title: 02、UML 用例图
Author: Martin
Date: 2016-04-01 00:03
Summary: 用例图, 就是用图形的方式来描述系统的使用情景.

[TOC]

用例, 是帮助角色确定__系统使用情况__的 UML 组件

用例组, 是从用户角度出发对__如何使用系统的描述__

用例图, 用图形的方式来描述情景, 主要用来描述 "__用户__、__需求__、__系统功能单元__" 之间的关系, 它展示了一个外部用户能够观察到的系统功能模型, 也就是说, 它应该是从__用户__的角度来描述系统, 而非开发者.

# 用例卡片
在用例图出现之前, 当需要去客户那讨论某些功能的需求时, 常常会带上一堆的 "卡片", 每张卡片上都是一张__用例表单__, 讨论过程中按照客户的要求填写这个表单, 等讨论结束, 就按这个表单的内容进行开发, 这个记录了需求表单的卡片, 就叫它 "__用例卡片__", 下面是一个__登录功能__的用例卡片.

![用例图](http://i63.tinypic.com/2u53yvb.jpg)

通过这张卡片, 可以总结出一些__用例要素__:

- 参与者
    + 包括使用者、系统用户和其它交互的系统
- 前置条件
- 场景中的步骤
    + 事件流
- 后置条件

# StarUML 用例图
打开 StarUML, 选择 __Rational Approach__.

StarUML 界面右侧的 __Model Explorer__ 中 <<__use case view__\>\> 就是用例图 view, 我们要添加用例图, 就要在这个 view 下添加.

<<__use case view__\>\> 自带了一个 __Main__ 用例图, 点击下 <<__use case view__\>\> 下的 Main, 在StarUML 界面左侧, 就打开了用例图工具栏.

![](http://i66.tinypic.com/9uwxo1.jpg)

|      StarUML       |   翻译   |                                                                        功能                                                                        |
|--------------------|----------|----------------------------------------------------------------------------------------------------------------------------------------------------|
| Package            | 包       | 分类、模块、子模块<br>类比文件夹的功能                                                                                                             |
| UseCase            | 用例     | 描述一个用户的具体动作<br>要求是__动宾短语__                                                                                                       |
| Actor              | 角色     | 执行者<br>包括用户、后台系统员或者其他系统                                                                                                         |
| Association        | 关联     | 表示参与者与用例之间可以通信                                                                                                                       |
| DirecteAssociation | 定向关联 | 也表示参与者与用例之间可以通信, 但是用箭头表示通信方向<br>__箭头__指向消息接收方                                                                   |
| Generalization     | 泛化     | 继承关系<br>子用例和父用例相似, 但表现出更特别的行为<br>子用例将继承父用例的所有结构、行为和关系<br>__箭头__指向父用例                             |
| Dependency         | 依赖     | 源用例依赖于目标用例<br>如冰箱依赖插头, 去食堂吃饭依赖于有餐卡<br>__箭头__指向目标用例                                                             |
| Include            | 包含     | 用来把一个较复杂用例所表示的功能进行分解<br>包含属于依赖的一种<br>__箭头__指向分解出来的子用例                                                     |
| Extend             | 扩展     | 指用例功能的延伸<br>相当于在__一定条件下__为基础用例提供一个附加功能<br>如, 只有在书籍丢失用例成立的情况下才会触发补偿用例<br>__箭头__指向基础用例 |
| System Boundary    | 系统边界 | 用来把一些联系紧密的用例包含起来<br>一般认为被包含的用例共同完成某一功能<br>而边界外的用例则与这个功能无关                                         |

Extend (扩展) 图样示例:

![](http://i63.tinypic.com/bdn036.jpg)

只有当 "__失书__" 的扩展点发生后, 才会触发补偿的用例.

> 小技巧:<br>
> 当发现线条不规整时, 可选中该线条, 按 __Ctrl + L__ 来自动规整.

对于每个图样, 可以在 StarUML __右下方__设置其属性:

![](http://i67.tinypic.com/2le6rnp.jpg)

对于用例图来说, 我们只关心它的 Name 和 Stereotype 属性, 后面的 Visibility、IsAbstract、Attributes、Operations 在画类图的时候才会有所体现.

当然你也可以在 <<__use case view__\>\> 上右键选择新添加用例图:<br>
<<__use case view__\>\> \-\-\> Add Diagram \-\-\> Use Case Diagram

![](http://i66.tinypic.com/2zp5n6h.jpg)

在 StarUML 左侧, 除了 UseCase 的工具栏外, 还有一个__注释__工具栏 (Annotation), 这个工具栏是所有 UML 图形通用的:

|      StarUML      |    说明    |
|-------------------|------------|
| Text              | 文本       |
| Note              | 注释       |
| NoteLink          | 注释连接线 |
| Rectangle         | 矩形       |
| Elipse            | 椭圆       |
| Rounded Rectangle | 圆角矩形   |

这里我们常用的是 __Note__ 和 __NoteLink__.

> 小技巧:<br>
> 当使用图形时, 可以在工具栏上设置图形的层次.<br>
> ![](http://i63.tinypic.com/ipbcd1.jpg)

__关于删除__<br>
如果你在 StarUML 画布上拖入某个图样, 那么直接在画布上删除仅仅是在画布上删除它, 它还是在右边的 Model Explorer 中, 必须要在 Model Explorer 中删除才是真的删除, 或者在画布上 Ctrl + Del 删除.


__关于用例图设计__<br>
通常情况下, 一个系统可能会被我们分为几个__模块__, 每个模块都完成独立的功能, 我们把这些模块用 __Package__ 表示, 在 __Main__ 视图下列出大纲, 然后在每个 __Package__ 下画各自的 __UseCase__, 如下图所示:

![](http://i67.tinypic.com/2moa45i.jpg)
