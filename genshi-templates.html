<!DOCTYPE html>
<html lang="zh">
  <head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>GenShi Templates</title>
    <link
      rel="icon"
      href="https://uldaman.github.io/old_pages/extra/avatar.png"
    />
    <link
      rel="shortcut icon"
      href="https://uldaman.github.io/old_pages/extra/avatar.png"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.5/css/bulma.min.css"
    />
    <link
      rel="stylesheet"
      href="https://uldaman.github.io/old_pages/theme/css/main.a3671138.css"
    />
    <style media="print">
      .is-hidden-print {
        display: none !important;
      }
    </style>
    <link
      rel="stylesheet"
      href="https://uldaman.github.io/old_pages/custom.css"
    />
    <meta property="og:title" content="Small Cpp - GenShi Templates" />
    <meta
      property="og:description"
      content="Genshi XML Template Language Genshi provides a XML-based template language that is heavily inspired by Kid, which in turn was inspired by a number of existing template languages, namely XSLT …"
    />
    <meta
      property="og:url"
      content="https://uldaman.github.io/old_pages/genshi-templates.html"
    />
    <meta
      property="og:image"
      content="https://uldaman.github.io/old_pages/images/extra/avatar.png"
    />
    <meta
      name="twitter:image:alt"
      content="Small Cpp | 勿在浮沙筑高台, 练从难处练, 用从易处用."
    />
    <meta name="twitter:card" content="summary" />
    <meta property="og:site_name" content="Small Cpp" />
    <meta property="og:type" content="article" />
    <meta
      property="article:published_time"
      content="2016-08-19T12:56:00+08:00"
    />
    <meta property="article:section" content="软件工程" />
  </head>

  <body id="index" class="home">
    <header class="hero is-primary">
      <div class="hero-head">
        <div class="container">
          <nav class="navbar">
            <div class="navbar-brand">
              <a
                class="navbar-item title is-3"
                href="https://uldaman.github.io/old_pages/"
                ><img
                  src="https://uldaman.github.io/old_pages/extra/avatar.png"
                  class="avatar"
                />&nbsp;Small Cpp</a
              >
            </div>
          </nav>
        </div>
      </div>
    </header>

    <nav class="navbar has-shadow is-hidden-print">
      <div class="container">
        <div class="navbar-center"></div>
        <span id="navToggle" class="navbar-burger">
          <span></span>
          <span></span>
          <span></span>
        </span>
        <div id="navMenu" class="navbar-menu">
          <div class="navbar-end">
            <a
              class="navbar-item is-tab"
              href="https://uldaman.github.io/old_pages/category/za-xiang.html"
              >杂项</a
            >
            <a
              class="navbar-item is-tab"
              href="https://uldaman.github.io/old_pages/category/shu-ju-ku.html"
              >数据库</a
            >
            <a
              class="navbar-item is-tab is-active"
              href="https://uldaman.github.io/old_pages/category/ruan-jian-gong-cheng.html"
              >软件工程</a
            >
            <a
              class="navbar-item is-tab"
              href="https://uldaman.github.io/old_pages/category/han-shu-shi.html"
              >函数式</a
            >
            <a
              class="navbar-item is-tab"
              href="https://uldaman.github.io/old_pages/category/gong-ju-zhe-teng.html"
              >工具折腾</a
            >
            <a
              class="navbar-item is-tab"
              href="https://uldaman.github.io/old_pages/category/golang.html"
              >Golang</a
            >
            <a
              class="navbar-item is-tab"
              href="https://uldaman.github.io/old_pages/category/da-shu-ju.html"
              >大数据</a
            >
          </div>
        </div>
      </div>
    </nav>

    <div class="container">
      <div class="section columns">
        <div class="column is-three-quarters-desktop is-two-thirds-tablet">
          <section id="content" class="body">
            <article>
              <h1 class="title">
                <a
                  href="https://uldaman.github.io/old_pages/genshi-templates.html"
                  rel="bookmark"
                  title="Permalink to GenShi Templates"
                  >GenShi Templates</a
                >
              </h1>
              <footer class="post-info">
                <abbr class="published" title="2016-08-19T12:56:00+08:00">
                  Published <span class="is-info">Fri 19 August 2016</span> in
                  <a
                    href="https://uldaman.github.io/old_pages/category/ruan-jian-gong-cheng.html"
                    >软件工程</a
                  >
                </abbr>

                <p class="author">
                  <em>by HanXiao </em>
                  &nbsp;
                </p>
              </footer>
              <div class="section">
                <div class="toc">
                  <ul>
                    <li>
                      <a href="#genshi-xml-template-language"
                        >Genshi XML Template Language</a
                      >
                    </li>
                    <li>
                      <a href="#1-template-directives">1 Template Directives</a>
                      <ul>
                        <li>
                          <a href="#11-conditional-sections"
                            >1.1 Conditional Sections</a
                          >
                          <ul>
                            <li><a href="#111-pyif">1.1.1 py:if</a></li>
                            <li><a href="#112-pychoose">1.1.2 py:choose</a></li>
                          </ul>
                        </li>
                        <li>
                          <a href="#12-looping">1.2 Looping</a>
                          <ul>
                            <li><a href="#121-pyfor">1.2.1 py:for</a></li>
                          </ul>
                        </li>
                        <li>
                          <a href="#13-snippet-reuse">1.3 Snippet Reuse</a>
                          <ul>
                            <li><a href="#131-pydef">1.3.1 py:def</a></li>
                            <li><a href="#132-pymatch">1.3.2 py:match</a></li>
                          </ul>
                        </li>
                        <li>
                          <a href="#14-variable-binding"
                            >1.4 Variable Binding</a
                          >
                          <ul>
                            <li><a href="#141-pywith">1.4.1 py:with</a></li>
                          </ul>
                        </li>
                        <li>
                          <a href="#15-structure-manipulation"
                            >1.5 Structure Manipulation</a
                          >
                          <ul>
                            <li><a href="#151-pyattrs">1.5.1 py:attrs</a></li>
                            <li>
                              <a href="#152-pycontent">1.5.2 py:content</a>
                            </li>
                            <li>
                              <a href="#153-pyreplace">1.5.3 py:replace</a>
                            </li>
                            <li><a href="#154-pystrip">1.5.4 py:strip</a></li>
                          </ul>
                        </li>
                        <li>
                          <a href="#16-processing-order"
                            >1.6 Processing Order</a
                          >
                        </li>
                      </ul>
                    </li>
                    <li>
                      <a href="#2-includes">2 Includes</a>
                      <ul>
                        <li>
                          <a href="#21-dynamic-includes"
                            >2.1 Dynamic Includes</a
                          >
                        </li>
                        <li>
                          <a href="#22-including-text-templates"
                            >2.2 Including Text Templates</a
                          >
                        </li>
                      </ul>
                    </li>
                    <li><a href="#3-comments">3 Comments</a></li>
                  </ul>
                </div>
                <hr />

                <h1 id="genshi-xml-template-language">
                  Genshi XML Template Language
                </h1>
                <p>
                  Genshi provides a XML-based template language that is heavily
                  inspired by Kid, which in turn was inspired by a number of
                  existing template languages, namely XSLT, TAL, and PHP.
                </p>
                <p>
                  This document describes the template language and will be most
                  useful as reference to those developing Genshi XML templates.
                  Templates are XML files of some kind (such as XHTML) that
                  include processing directives (elements or attributes
                  identified by a separate namespace) that affect how the
                  template is rendered, and template expressions that are
                  dynamically substituted by variable data.
                </p>
                <p>
                  See Genshi Templating Basics for general information on
                  embedding Python code in templates.
                </p>
                <h1 id="1-template-directives">1 Template Directives</h1>
                <p>
                  Directives are elements and/or attributes in the template that
                  are identified by the namespace http://genshi.edgewall.org/.
                  They can affect how the template is rendered in a number of
                  ways: Genshi provides directives for conditionals and looping,
                  among others.
                </p>
                <p>
                  To use directives in a template, the namespace must be
                  declared, which is usually done on the root element:
                </p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">html</span> <span style="color: #658b00">xmlns</span>=<span style="color: #CD5555">"http://www.w3.org/1999/xhtml"</span>
      <span style="color: #658b00">xmlns:py</span>=<span style="color: #CD5555">"http://genshi.edgewall.org/"</span>
      <span style="color: #658b00">lang</span>=<span style="color: #CD5555">"en"</span>&gt;
  ...
&lt;/<span style="color: #8B008B; font-weight: bold">html</span>&gt;
</pre>
                </div>
                <p>
                  In this example, the default namespace is set to the XHTML
                  namespace, and the namespace for Genshi directives is bound to
                  the prefix “py”.
                </p>
                <p>
                  All directives can be applied as attributes, and some can also
                  be used as elements. The if directives for conditionals, for
                  example, can be used in both ways:
                </p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">html</span> <span style="color: #658b00">xmlns</span>=<span style="color: #CD5555">"http://www.w3.org/1999/xhtml"</span>
      <span style="color: #658b00">xmlns:py</span>=<span style="color: #CD5555">"http://genshi.edgewall.org/"</span>
      <span style="color: #658b00">lang</span>=<span style="color: #CD5555">"en"</span>&gt;
  ...
  &lt;<span style="color: #8B008B; font-weight: bold">div</span> <span style="color: #658b00">py:if</span>=<span style="color: #CD5555">"foo"</span>&gt;
    &lt;<span style="color: #8B008B; font-weight: bold">p</span>&gt;Bar&lt;/<span style="color: #8B008B; font-weight: bold">p</span>&gt;
  &lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
  ...
&lt;/<span style="color: #8B008B; font-weight: bold">html</span>&gt;
</pre>
                </div>
                <p>This is basically equivalent to the following:</p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">html</span> <span style="color: #658b00">xmlns</span>=<span style="color: #CD5555">"http://www.w3.org/1999/xhtml"</span>
      <span style="color: #658b00">xmlns:py</span>=<span style="color: #CD5555">"http://genshi.edgewall.org/"</span>
      <span style="color: #658b00">lang</span>=<span style="color: #CD5555">"en"</span>&gt;
  ...
  &lt;<span style="color: #8B008B; font-weight: bold">py:if</span> <span style="color: #658b00">test</span>=<span style="color: #CD5555">"foo"</span>&gt;
    &lt;<span style="color: #8B008B; font-weight: bold">div</span>&gt;
      &lt;<span style="color: #8B008B; font-weight: bold">p</span>&gt;Bar&lt;/<span style="color: #8B008B; font-weight: bold">p</span>&gt;
    &lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
  &lt;/<span style="color: #8B008B; font-weight: bold">py:if</span>&gt;
  ...
&lt;/<span style="color: #8B008B; font-weight: bold">html</span>&gt;
</pre>
                </div>
                <p>
                  The rationale behind the second form is that directives do not
                  always map naturally to elements in the template. In such
                  cases, the py:strip directive can be used to strip off the
                  unwanted element, or the directive can simply be used as an
                  element.
                </p>
                <h2 id="11-conditional-sections">1.1 Conditional Sections</h2>
                <h3 id="111-pyif">1.1.1 py:if</h3>
                <p>
                  The element and its content is only rendered if the expression
                  evaluates to a truth value:
                </p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">div</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">b</span> <span style="color: #658b00">py:if</span>=<span style="color: #CD5555">"foo"</span>&gt;${bar}&lt;/<span style="color: #8B008B; font-weight: bold">b</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
</pre>
                </div>
                <p>
                  Given the data foo=True and bar=’Hello’ in the template
                  context, this would produce:
                </p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">div</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">b</span>&gt;Hello&lt;/<span style="color: #8B008B; font-weight: bold">b</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
</pre>
                </div>
                <p>
                  But setting foo=False would result in the following output:
                </p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">div</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
</pre>
                </div>
                <p>This directive can also be used as an element:</p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">div</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">py:if</span> <span style="color: #658b00">test</span>=<span style="color: #CD5555">"foo"</span>&gt;
    &lt;<span style="color: #8B008B; font-weight: bold">b</span>&gt;${bar}&lt;/<span style="color: #8B008B; font-weight: bold">b</span>&gt;
  &lt;/<span style="color: #8B008B; font-weight: bold">py:if</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
</pre>
                </div>
                <h3 id="112-pychoose">1.1.2 py:choose</h3>
                <p>
                  The py:choose directive, in combination with the directives
                  py:when and py:otherwise provides advanced conditional
                  processing for rendering one of several alternatives. The
                  first matching py:when branch is rendered, or, if no py:when
                  branch matches, the py:otherwise branch is rendered.
                </p>
                <p>
                  If the py:choose directive is empty the nested py:when
                  directives will be tested for truth:
                </p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">div</span> <span style="color: #658b00">py:choose</span>=<span style="color: #CD5555">""</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">span</span> <span style="color: #658b00">py:when</span>=<span style="color: #CD5555">"0 == 1"</span>&gt;0&lt;/<span style="color: #8B008B; font-weight: bold">span</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">span</span> <span style="color: #658b00">py:when</span>=<span style="color: #CD5555">"1 == 1"</span>&gt;1&lt;/<span style="color: #8B008B; font-weight: bold">span</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">span</span> <span style="color: #658b00">py:otherwise</span>=<span style="color: #CD5555">""</span>&gt;2&lt;/<span style="color: #8B008B; font-weight: bold">span</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
</pre>
                </div>
                <p>This would produce the following output:</p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">div</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">span</span>&gt;1&lt;/<span style="color: #8B008B; font-weight: bold">span</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
</pre>
                </div>
                <p>
                  If the py:choose directive contains an expression the nested
                  py:when directives will be tested for equality to the parent
                  py:choose value:
                </p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">div</span> <span style="color: #658b00">py:choose</span>=<span style="color: #CD5555">"1"</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">span</span> <span style="color: #658b00">py:when</span>=<span style="color: #CD5555">"0"</span>&gt;0&lt;/<span style="color: #8B008B; font-weight: bold">span</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">span</span> <span style="color: #658b00">py:when</span>=<span style="color: #CD5555">"1"</span>&gt;1&lt;/<span style="color: #8B008B; font-weight: bold">span</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">span</span> <span style="color: #658b00">py:otherwise</span>=<span style="color: #CD5555">""</span>&gt;2&lt;/<span style="color: #8B008B; font-weight: bold">span</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
</pre>
                </div>
                <p>This would produce the following output:</p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">div</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">span</span>&gt;1&lt;/<span style="color: #8B008B; font-weight: bold">span</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
</pre>
                </div>
                <p>These directives can also be used as elements:</p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">py:choose</span> <span style="color: #658b00">test</span>=<span style="color: #CD5555">"1"</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">py:when</span> <span style="color: #658b00">test</span>=<span style="color: #CD5555">"0"</span>&gt;0&lt;/<span style="color: #8B008B; font-weight: bold">py:when</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">py:when</span> <span style="color: #658b00">test</span>=<span style="color: #CD5555">"1"</span>&gt;1&lt;/<span style="color: #8B008B; font-weight: bold">py:when</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">py:otherwise</span>&gt;2&lt;/<span style="color: #8B008B; font-weight: bold">py:otherwise</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">py:choose</span>&gt;
</pre>
                </div>
                <h2 id="12-looping">1.2 Looping</h2>
                <h3 id="121-pyfor">1.2.1 py:for</h3>
                <p>The element is repeated for every item in an iterable:</p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">ul</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">li</span> <span style="color: #658b00">py:for</span>=<span style="color: #CD5555">"item in items"</span>&gt;${item}&lt;/<span style="color: #8B008B; font-weight: bold">li</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">ul</span>&gt;
</pre>
                </div>
                <p>
                  Given items=[1, 2, 3] in the context data, this would produce:
                </p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">ul</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">li</span>&gt;1&lt;/<span style="color: #8B008B; font-weight: bold">li</span>&gt;&lt;<span style="color: #8B008B; font-weight: bold">li</span>&gt;2&lt;/<span style="color: #8B008B; font-weight: bold">li</span>&gt;&lt;<span style="color: #8B008B; font-weight: bold">li</span>&gt;3&lt;/<span style="color: #8B008B; font-weight: bold">li</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">ul</span>&gt;
</pre>
                </div>
                <p>This directive can also be used as an element:</p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">ul</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">py:for</span> <span style="color: #658b00">each</span>=<span style="color: #CD5555">"item in items"</span>&gt;
    &lt;<span style="color: #8B008B; font-weight: bold">li</span>&gt;${item}&lt;/<span style="color: #8B008B; font-weight: bold">li</span>&gt;
  &lt;/<span style="color: #8B008B; font-weight: bold">py:for</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">ul</span>&gt;
</pre>
                </div>
                <h2 id="13-snippet-reuse">1.3 Snippet Reuse</h2>
                <h3 id="131-pydef">1.3.1 py:def</h3>
                <p>
                  The py:def directive can be used to create macros, i.e.
                  snippets of template code that have a name and optionally some
                  parameters, and that can be inserted in other places:
                </p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">div</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">p</span> <span style="color: #658b00">py:def</span>=<span style="color: #CD5555">"greeting(name)"</span> <span style="color: #658b00">class</span>=<span style="color: #CD5555">"greeting"</span>&gt;
    Hello, ${name}!
  &lt;/<span style="color: #8B008B; font-weight: bold">p</span>&gt;
  ${greeting('world')}
  ${greeting('everyone else')}
&lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
</pre>
                </div>
                <p>The above would be rendered to:</p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">div</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">p</span> <span style="color: #658b00">class</span>=<span style="color: #CD5555">"greeting"</span>&gt;
    Hello, world!
  &lt;/<span style="color: #8B008B; font-weight: bold">p</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">p</span> <span style="color: #658b00">class</span>=<span style="color: #CD5555">"greeting"</span>&gt;
    Hello, everyone else!
  &lt;/<span style="color: #8B008B; font-weight: bold">p</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
</pre>
                </div>
                <p>
                  If a macro doesn’t require parameters, it can be defined
                  without the parenthesis. For example:
                </p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">div</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">p</span> <span style="color: #658b00">py:def</span>=<span style="color: #CD5555">"greeting"</span> <span style="color: #658b00">class</span>=<span style="color: #CD5555">"greeting"</span>&gt;
    Hello, world!
  &lt;/<span style="color: #8B008B; font-weight: bold">p</span>&gt;
  ${greeting()}
&lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
</pre>
                </div>
                <p>The above would be rendered to:</p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">div</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">p</span> <span style="color: #658b00">class</span>=<span style="color: #CD5555">"greeting"</span>&gt;
    Hello, world!
  &lt;/<span style="color: #8B008B; font-weight: bold">p</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
</pre>
                </div>
                <p>This directive can also be used as an element:</p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">div</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">py:def</span> <span style="color: #658b00">function</span>=<span style="color: #CD5555">"greeting(name)"</span>&gt;
    &lt;<span style="color: #8B008B; font-weight: bold">p</span> <span style="color: #658b00">class</span>=<span style="color: #CD5555">"greeting"</span>&gt;Hello, ${name}!&lt;/<span style="color: #8B008B; font-weight: bold">p</span>&gt;
  &lt;/<span style="color: #8B008B; font-weight: bold">py:def</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
</pre>
                </div>
                <h3 id="132-pymatch">1.3.2 py:match</h3>
                <p>
                  This directive defines a match template: given an XPath
                  expression, it replaces any element in the template that
                  matches the expression with its own content.
                </p>
                <p>
                  For example, the match template defined in the following
                  template matches any element with the tag name “greeting”:
                </p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">div</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">span</span> <span style="color: #658b00">py:match</span>=<span style="color: #CD5555">"greeting"</span>&gt;
    Hello ${select('@name')}
  &lt;/<span style="color: #8B008B; font-weight: bold">span</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">greeting</span> <span style="color: #658b00">name</span>=<span style="color: #CD5555">"Dude"</span> /&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
</pre>
                </div>
                <p>This would result in the following output:</p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">div</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">span</span>&gt;
    Hello Dude
  &lt;/<span style="color: #8B008B; font-weight: bold">span</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
</pre>
                </div>
                <p>
                  Inside the body of a py:match directive, the select(path)
                  function is made available so that parts or all of the
                  original element can be incorporated in the output of the
                  match template. See Using XPath for more information about
                  this function.
                </p>
                <p>
                  Match templates are applied both to the original markup as
                  well to the generated markup. The order in which they are
                  applied depends on the order they are declared in the template
                  source: a match template defined after another match template
                  is applied to the output generated by the first match
                  template. The match templates basically form a pipeline.
                </p>
                <p>This directive can also be used as an element:</p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">div</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">py:match</span> <span style="color: #658b00">path</span>=<span style="color: #CD5555">"greeting"</span>&gt;
    &lt;<span style="color: #8B008B; font-weight: bold">span</span>&gt;Hello ${select('@name')}&lt;/<span style="color: #8B008B; font-weight: bold">span</span>&gt;
  &lt;/<span style="color: #8B008B; font-weight: bold">py:match</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">greeting</span> <span style="color: #658b00">name</span>=<span style="color: #CD5555">"Dude"</span> /&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
</pre>
                </div>
                <p>
                  When used this way, the py:match directive can also be
                  annotated with a couple of optimization hints. For example,
                  the following informs the matching engine that the match
                  should only be applied once:
                </p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">py:match</span> <span style="color: #658b00">path</span>=<span style="color: #CD5555">"body"</span> <span style="color: #658b00">once</span>=<span style="color: #CD5555">"true"</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">body</span> <span style="color: #658b00">py:attrs</span>=<span style="color: #CD5555">"select('@*')"</span>&gt;
    &lt;<span style="color: #8B008B; font-weight: bold">div</span> <span style="color: #658b00">id</span>=<span style="color: #CD5555">"header"</span>&gt;...&lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
    ${select("*|text()")}
    &lt;<span style="color: #8B008B; font-weight: bold">div</span> <span style="color: #658b00">id</span>=<span style="color: #CD5555">"footer"</span>&gt;...&lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
  &lt;/<span style="color: #8B008B; font-weight: bold">body</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">py:match</span>&gt;
</pre>
                </div>
                <p>The following optimization hints are recognized:</p>
                <table>
                  <thead>
                    <tr>
                      <th>Attribute</th>
                      <th>Default</th>
                      <th>Description</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>buffer</td>
                      <td>true</td>
                      <td>
                        Whether the matched content should be buffered in
                        memory. Buffering can improve performance a bit at the
                        cost of needing more memory during rendering. Buffering
                        is ‘’required’‘ for match templates that contain more
                        than one invocation of the select() function. If there
                        is only one call, and the matched content can
                        potentially be very long, consider disabling buffering
                        to avoid excessive memory use.
                      </td>
                    </tr>
                    <tr>
                      <td>once</td>
                      <td>false</td>
                      <td>
                        Whether the engine should stop looking for more matching
                        elements after the first match. Use this on match
                        templates that match elements that can only occur once
                        in the stream, such as the
                        <head>
                          or
                          <body>
                            elements in an HTML template, or elements with a
                            specific ID.
                          </body>
                        </head>
                      </td>
                    </tr>
                    <tr>
                      <td>recursive</td>
                      <td>true</td>
                      <td>
                        Whether the match template should be applied to its own
                        output. Note that once implies non-recursive behavior,
                        so this attribute only needs to be set for match
                        templates that don’t also have once set.
                      </td>
                    </tr>
                  </tbody>
                </table>
                <p>Note</p>
                <p>
                  The py:match optimization hints were added in the 0.5 release.
                  In earlier versions, the attributes have no effect.
                </p>
                <h2 id="14-variable-binding">1.4 Variable Binding</h2>
                <h3 id="141-pywith">1.4.1 py:with</h3>
                <p>
                  The py:with directive lets you assign expressions to
                  variables, which can be used to make expressions inside the
                  directive less verbose and more efficient. For example, if you
                  need use the expression author.posts more than once, and that
                  actually results in a database query, assigning the results to
                  a variable using this directive would probably help.
                </p>
                <p>For example:</p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">div</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">span</span> <span style="color: #658b00">py:with</span>=<span style="color: #CD5555">"y=7; z=x+10"</span>&gt;$x $y $z&lt;/<span style="color: #8B008B; font-weight: bold">span</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
</pre>
                </div>
                <p>Given x=42 in the context data, this would produce:</p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">div</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">span</span>&gt;42 7 52&lt;/<span style="color: #8B008B; font-weight: bold">span</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
</pre>
                </div>
                <p>This directive can also be used as an element:</p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">div</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">py:with</span> <span style="color: #658b00">vars</span>=<span style="color: #CD5555">"y=7; z=x+10"</span>&gt;$x $y $z&lt;/<span style="color: #8B008B; font-weight: bold">py:with</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
</pre>
                </div>
                <p>
                  Note that if a variable of the same name already existed
                  outside of the scope of the py:with directive, it will not be
                  overwritten. Instead, it will have the same value it had prior
                  to the py:with assignment. Effectively, this means that
                  variables are immutable in Genshi.
                </p>
                <h2 id="15-structure-manipulation">
                  1.5 Structure Manipulation
                </h2>
                <h3 id="151-pyattrs">1.5.1 py:attrs</h3>
                <p>
                  This directive adds, modifies or removes attributes from the
                  element:
                </p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">ul</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">li</span> <span style="color: #658b00">py:attrs</span>=<span style="color: #CD5555">"foo"</span>&gt;Bar&lt;/<span style="color: #8B008B; font-weight: bold">li</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">ul</span>&gt;
</pre>
                </div>
                <p>
                  Given foo={‘class’: ‘collapse’} in the template context, this
                  would produce:
                </p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">ul</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">li</span> <span style="color: #658b00">class</span>=<span style="color: #CD5555">"collapse"</span>&gt;Bar&lt;/<span style="color: #8B008B; font-weight: bold">li</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">ul</span>&gt;
</pre>
                </div>
                <p>
                  Attributes with the value None are omitted, so given
                  foo={‘class’: None} in the context for the same template this
                  would produce:
                </p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">ul</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">li</span>&gt;Bar&lt;/<span style="color: #8B008B; font-weight: bold">li</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">ul</span>&gt;
</pre>
                </div>
                <p>This directive can only be used as an attribute.</p>
                <h3 id="152-pycontent">1.5.2 py:content</h3>
                <p>
                  This directive replaces any nested content with the result of
                  evaluating the expression:
                </p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">ul</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">li</span> <span style="color: #658b00">py:content</span>=<span style="color: #CD5555">"bar"</span>&gt;Hello&lt;/<span style="color: #8B008B; font-weight: bold">li</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">ul</span>&gt;
</pre>
                </div>
                <p>Given bar=’Bye’ in the context data, this would produce:</p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">ul</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">li</span>&gt;Bye&lt;/<span style="color: #8B008B; font-weight: bold">li</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">ul</span>&gt;
</pre>
                </div>
                <p>This directive can only be used as an attribute.</p>
                <h3 id="153-pyreplace">1.5.3 py:replace</h3>
                <p>
                  This directive replaces the element itself with the result of
                  evaluating the expression:
                </p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">div</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">span</span> <span style="color: #658b00">py:replace</span>=<span style="color: #CD5555">"bar"</span>&gt;Hello&lt;/<span style="color: #8B008B; font-weight: bold">span</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
</pre>
                </div>
                <p>Given bar=’Bye’ in the context data, this would produce:</p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">div</span>&gt;
  Bye
&lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
</pre>
                </div>
                <p>
                  This directive can also be used as an element (since version
                  0.5):
                </p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">div</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">py:replace</span> <span style="color: #658b00">value</span>=<span style="color: #CD5555">"title"</span>&gt;Placeholder&lt;/<span style="color: #8B008B; font-weight: bold">py:replace</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
</pre>
                </div>
                <h3 id="154-pystrip">1.5.4 py:strip</h3>
                <p>
                  This directive conditionally strips the top-level element from
                  the output. When the value of the py:strip attribute evaluates
                  to True, the element is stripped from the output:
                </p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">div</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">div</span> <span style="color: #658b00">py:strip</span>=<span style="color: #CD5555">"True"</span>&gt;&lt;<span style="color: #8B008B; font-weight: bold">b</span>&gt;foo&lt;/<span style="color: #8B008B; font-weight: bold">b</span>&gt;&lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
</pre>
                </div>
                <p>This would be rendered as:</p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">div</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">b</span>&gt;foo&lt;/<span style="color: #8B008B; font-weight: bold">b</span>&gt;
&lt;/<span style="color: #8B008B; font-weight: bold">div</span>&gt;
</pre>
                </div>
                <p>
                  As a shorthand, if the value of the py:strip attribute is
                  empty, that has the same effect as using a truth value (i.e.
                  the element is stripped).
                </p>
                <h2 id="16-processing-order">1.6 Processing Order</h2>
                <p>
                  It is possible to attach multiple directives to a single
                  element, although not all combinations make sense. When
                  multiple directives are encountered, they are processed in the
                  following order:
                </p>
                <ul>
                  <li>py:def</li>
                  <li>py:match</li>
                  <li>py:when</li>
                  <li>py:otherwise</li>
                  <li>py:for</li>
                  <li>py:if</li>
                  <li>py:choose</li>
                  <li>py:with</li>
                  <li>py:replace</li>
                  <li>py:content</li>
                  <li>py:attrs</li>
                  <li>py:strip</li>
                </ul>
                <h1 id="2-includes">2 Includes</h1>
                <p>
                  To reuse common snippets of template code, you can include
                  other files using XInclude.
                </p>
                <p>
                  For this, you need to declare the XInclude namespace (commonly
                  bound to the prefix “xi”) and use the
                  <xi:include>
                    element where you want the external file to be pulled
                    in:</xi:include
                  >
                </p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">html</span> <span style="color: #658b00">xmlns</span>=<span style="color: #CD5555">"http://www.w3.org/1999/xhtml"</span>
      <span style="color: #658b00">xmlns:py</span>=<span style="color: #CD5555">"http://genshi.edgewall.org/"</span>
      <span style="color: #658b00">xmlns:xi</span>=<span style="color: #CD5555">"http://www.w3.org/2001/XInclude"</span>&gt;
  &lt;<span style="color: #8B008B; font-weight: bold">xi:include</span> <span style="color: #658b00">href</span>=<span style="color: #CD5555">"base.html"</span> /&gt;
  ...
&lt;/<span style="color: #8B008B; font-weight: bold">html</span>&gt;
</pre>
                </div>
                <p>
                  Include paths are relative to the filename of the template
                  currently being processed. So if the example above was in the
                  file “myapp/index.html” (relative to the template search
                  path), the XInclude processor would look for the included file
                  at “myapp/base.html”. You can also use Unix-style relative
                  paths, for example “../base.html” to look in the parent
                  directory.
                </p>
                <p>
                  Any content included this way is inserted into the generated
                  output instead of the
                  <xi:include>
                    element. The included template sees the same context data.
                    Match templates and macros in the included template are also
                    available to the including template after the point it was
                    included.</xi:include
                  >
                </p>
                <p>
                  By default, an error will be raised if an included file is not
                  found. If that’s not what you want, you can specify fallback
                  content that should be used if the include fails. For example,
                  to to make the include above fail silently, you’d write:
                </p>
                <p>
                  <code
                    >&lt;xi:include href="base.html"&gt;&lt;xi:fallback
                    /&gt;&lt;/xi:include&gt;</code
                  >
                </p>
                <p>
                  See the XInclude specification for more about fallback
                  content. Note though that Genshi currently only supports a
                  small subset of XInclude.
                </p>
                <h2 id="21-dynamic-includes">2.1 Dynamic Includes</h2>
                <p>
                  Incudes in Genshi are fully dynamic: Just like normal
                  attributes, the href attribute accepts expressions, and
                  directives can be used on the
                  <xi:include></xi:include> element just as on any other
                  element, meaning you can do things like conditional includes:
                </p>
                <div class="codehilite" style="background: #eeeedd">
                  <pre
                    style="line-height: 125%"
                  ><span></span>&lt;<span style="color: #8B008B; font-weight: bold">xi:include</span> <span style="color: #658b00">href</span>=<span style="color: #CD5555">"${name}.html"</span> <span style="color: #658b00">py:if</span>=<span style="color: #CD5555">"not in_popup"</span>
            <span style="color: #658b00">py:for</span>=<span style="color: #CD5555">"name in ('foo', 'bar', 'baz')"</span> /&gt;
</pre>
                </div>
                <h2 id="22-including-text-templates">
                  2.2 Including Text Templates
                </h2>
                <p>
                  The parse attribute of the
                  <xi:include>
                    element can be used to specify whether the included template
                    is an XML template or a text template (using the new syntax
                    added in Genshi 0.5):</xi:include
                  >
                </p>
                <p>
                  <code
                    >&lt;xi:include href="myscript.js" parse="text" /&gt;</code
                  >
                </p>
                <p>
                  This example would load the myscript.js file as a
                  NewTextTemplate. See text templates for details on the syntax
                  of text templates.
                </p>
                <h1 id="3-comments">3 Comments</h1>
                <p>Normal XML/HTML comment syntax can be used in templates:</p>
                <p><code>&lt;!-- this is a comment --&gt;</code></p>
                <p>
                  However, such comments get passed through the processing
                  pipeline and are by default included in the final output. If
                  that’s not desired, prefix the comment text with an
                  exclamation mark:
                </p>
                <p>
                  <code
                    >&lt;!-- !this is a comment too, but one that will be
                    stripped from the output --&gt;</code
                  >
                </p>
                <p>
                  Note that it does not matter whether there’s whitespace before
                  or after the exclamation mark, so the above could also be
                  written as follows:
                </p>
                <p>
                  <code
                    >&lt;!--! this is a comment too, but one that will be
                    stripped from the output --&gt;</code
                  >
                </p>
              </div>
            </article>
          </section>

          <script type="application/ld+json">
            {
              "articleSection": "\u8f6f\u4ef6\u5de5\u7a0b",
              "author": { "@type": "Person", "name": "HanXiao" },
              "datePublished": "2016-08-19T12:56:00+08:00",
              "headline": "GenShi Templates",
              "mainEntityOfPage": {
                "@type": "WebPage",
                "@id": "https://uldaman.github.io/old_pages/genshi-templates.html"
              },
              "@context": "http://schema.org",
              "@type": "BlogPosting",
              "description": "Genshi XML Template Language Genshi provides a XML-based template language that is heavily inspired by Kid, which in turn was inspired by a number of existing template languages, namely XSLT \u2026"
            }
          </script>
        </div>

        <div
          class="column is-one-quarter-desktop is-one-third-tablet is-hidden-print"
        >
          <aside class="menu">
            <p class="menu-label">Links</p>
            <ul class="menu-list">
              <li>
                <a href="https://zhuec.gitbook.io/learning-notes/">
                  <span class="icon is-small"
                    ><i class="fa fa-globe fa-fw"></i
                  ></span>
                  <span class="link-text">Learning Notes</span>
                </a>
              </li>
              <li>
                <a href="https://github.com/vechain/thor">
                  <span class="icon is-small"
                    ><i class="fa fa-globe fa-fw"></i
                  ></span>
                  <span class="link-text">VeChain Thor</span>
                </a>
              </li>
              <li>
                <a href="http://blog.csdn.net/u010850265">
                  <span class="icon is-small"
                    ><i class="fa fa-globe fa-fw"></i
                  ></span>
                  <span class="link-text">CSDN</span>
                </a>
              </li>
            </ul>
          </aside>
        </div>
      </div>
    </div>

    <footer class="footer">
      <div class="container has-text-centered">
        <p class="subtitle">勿在浮沙筑高台, 练从难处练, 用从易处用.</p>
        <div class="credits">
          <span
            ><a href="https://github.com/textbook/bulrush">Bulrush</a> theme for
            <a href="https://blog.getpelican.com/">Pelican</a></span
          >
          <span
            ><span class="icon is-small"><i class="fa fa-html5"></i></span> HTML
            5</span
          >
          <span
            ><span class="icon is-small"><i class="fa fa-css3"></i></span> CSS
            3</span
          >
          <span>Made with <a href="https://bulma.io">Bulma</a></span>
        </div>
      </div>
      <div class="github-fork-ribbon-wrapper is-hidden-mobile is-hidden-print">
        <div class="github-fork-ribbon">
          <a href="https://github.com/uldaman">
            <i class="fa fa-github fa-fw"></i>
            Fork me on GitHub
          </a>
        </div>
      </div>
    </footer>

    <script type="text/javascript">
      document
        .getElementById("navToggle")
        .addEventListener("click", function () {
          var nav = document.getElementById("navMenu");
          var className = nav.getAttribute("class");
          if (className == "navbar-menu") {
            nav.className = "navbar-menu is-active";
          } else {
            nav.className = "navbar-menu";
          }
        });
    </script>
  </body>
</html>
